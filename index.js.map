{"version":3,"file":"index.js","sources":["../src/js/apiService.js","../src/js/hero.js","../src/js/modal-artists.js","../src/js/artists.js","../src/js/feedback.js"],"sourcesContent":["// apiService.js\nimport axios from 'axios';\n\nconst API_BASE_URL = 'https://sound-wave.b.goit.study/api';\n\n/**\n * Fetches a list of genres.\n * @returns {Promise<Array>} A promise that resolves to an array of genre objects.\n */\nexport async function fetchGenres() {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/genres`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching genre list:', error);\n    throw error;\n  }\n}\n\n/**\n * Fetches a list of artists with pagination.\n * @param {number} limit The number of artists to fetch per page.\n * @param {number} page The page number to fetch.\n * @returns {Promise<Object>} A promise that resolves to an object containing artists, totalArtists, page, and limit.\n */\nexport async function fetchArtists(limit = 10, page = 1) {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/artists`, {\n      params: { limit, page },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching artist list:', error);\n    throw error;\n  }\n}\n\n/**\n * Fetches artist information and their albums by ID.\n * @param {string} artistId The ID of the artist.\n * @returns {Promise<Object>} A promise that resolves to an object containing artist details and albums.\n */\nexport async function fetchArtistDetailsWithAlbums(artistId) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}/artists/${artistId}/albums`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(\n      `Error fetching artist details with albums (ID: ${artistId}):`,\n      error\n    );\n    throw error;\n  }\n}\n\n/**\n * Fetches artist information and their tracks by ID.\n * @param {string} artistId The ID of the artist.\n * @returns {Promise<Object>} A promise that resolves to an object containing artist details and tracksList.\n */\nexport async function fetchArtistDetailsWithTracks(artistId) {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/artists/${artistId}`);\n    return response.data;\n  } catch (error) {\n    console.error(\n      `Error fetching artist details with tracks (ID: ${artistId}):`,\n      error\n    );\n    throw error;\n  }\n}\n\n/**\n * Submits a new feedback.\n * @param {Object} feedbackData - Object containing feedback data.\n * @param {string} feedbackData.name - User's name.\n * @param {number} feedbackData.rating - Rating (e.g., from 1 to 5).\n * @param {string} feedbackData.descr - Description/comment.\n * @returns {Promise<Object>} A promise that resolves to an object with a processing message.\n */\nexport async function submitFeedback(feedbackData) {\n  try {\n    const response = await axios.post(\n      `${API_BASE_URL}/feedbacks`,\n      feedbackData\n    );\n    return response.data;\n  } catch (error) {\n    console.error('Error submitting feedback:', error);\n    throw error;\n  }\n}\n\n/**\n * Fetches a list of feedbacks with pagination.\n * @param {number} limit - The number of feedbacks per page.\n * @param {number} page - The page number.\n * @returns {Promise<Object>} A promise that resolves to an object containing an array of feedbacks, total count, and pagination info.\n */\nexport async function fetchFeedbacks(limit = 10, page = 1) {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/feedbacks`, {\n      params: { limit, page },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching feedback list:', error);\n    throw error;\n  }\n}\n\n/**\n * Registers a new user.\n * @param {Object} userData - User registration data.\n * @param {string} userData.email - User's email address.\n * @param {string} userData.password - User's password.\n * @returns {Promise<Object>} A promise that resolves to an object with an API key.\n */\nexport async function registerUser(userData) {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/register`, userData);\n    return response.data;\n  } catch (error) {\n    console.error('Error registering user:', error);\n    throw error;\n  }\n}\n\n/**\n * Logs in a user.\n * @param {Object} credentials - User login credentials.\n * @param {string} credentials.email - User's email address.\n * @param {string} credentials.password - User's password.\n * @returns {Promise<Object>} A promise that resolves to an object with an API key.\n */\nexport async function loginUser(credentials) {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/login`, credentials);\n    return response.data;\n  } catch (error) {\n    console.error('Error logging in user:', error);\n    throw error;\n  }\n}\n","// js/hero.js\nimport { fetchArtists } from './apiService.js'; // Імпартуем нашу функцыю з apiService.js\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // === ЛОГІКА ДЛЯ ЗАГРУЗКІ МАЛЮНКАЎ АРТЫСТАЎ У HERO-СЕКЦЫЮ ===\n  const heroColumnOne = document.querySelector('.hero-column-one');\n  const heroColumnTwo = document.querySelector('.hero-column-two');\n\n  async function displayHeroArtists() {\n    let artists = [];\n    try {\n      // Запытваем першых 6 артыстаў (limit=6, page=1)\n      const response = await fetchArtists(6, 1);\n      artists = response.artists || []; // Атрымліваем масіў артыстаў\n    } catch (error) {\n      console.error('Памылка пры загрузцы артыстаў для Hero-секцыі:', error);\n      // Калі памылка, застанецца пусты масіў, і папярэджанне выведзецца ніжэй\n    }\n\n    if (artists.length === 0) {\n      console.warn(\n        'Няма дадзеных пра артыстаў для адлюстравання ў Hero-секцыі. Праверце API ці даступнасць дадзеных.'\n      );\n      return;\n    }\n\n    // Дзелім атрыманых артыстаў на дзве калонкі\n    const columnOneArtists = artists.slice(0, 3);\n    const columnTwoArtists = artists.slice(3, 6);\n\n    function populateColumn(columnElement, artistData) {\n      const imgElements = columnElement.querySelectorAll('.hero-artist-img');\n      artistData.forEach((artist, index) => {\n        if (imgElements[index]) {\n          imgElements[index].src =\n            artist.strArtistThumb ||\n            'https://via.placeholder.com/150x150?text=No+Image'; // Запасны малюнак, калі фота няма\n          imgElements[index].alt = artist.strArtist || 'Artist photo';\n        }\n      });\n    }\n\n    if (heroColumnOne) {\n      populateColumn(heroColumnOne, columnOneArtists);\n    }\n    if (heroColumnTwo) {\n      populateColumn(heroColumnTwo, columnTwoArtists);\n    }\n  }\n\n  // Выклікаем функцыю для адлюстравання малюнкаў пры загрузцы DOM\n  displayHeroArtists();\n\n  // --- ЛОГІКА ДЛЯ КНОПКІ \"EXPLORE ARTISTS\" ---\n  const exploreBtn = document.querySelector('.explore-btn');\n  const artistsSection = document.getElementById('artists-section'); // Атрымліваем секцыю артыстаў\n\n  if (exploreBtn && artistsSection) {\n    exploreBtn.addEventListener('click', event => {\n      // event.preventDefault(); // Залежыць ад таго, дзе кнопка размешчана\n      artistsSection.scrollIntoView({\n        behavior: 'smooth', // Плаўная пракрутка\n      });\n    });\n  } else if (!artistsSection) {\n    console.warn(\n      `Секцыя з ID \"artists-section\" не знойдзена для кнопкі Explore.`\n    );\n  }\n});\n","// js/modal-artists.js\nimport { fetchArtistDetailsWithTracks } from './apiService.js';\n\n// ===============================================\n// 1. Кэшаванне DOM-элементаў мадальнага акна\n// ===============================================\nconst artistModal = document.getElementById('artistModal');\nconst closeModalButton = artistModal\n  ? artistModal.querySelector('.close-modal')\n  : null;\nconst modalLoader = document.getElementById('modalLoader');\n\nconst heroArtistImg = artistModal\n  ? artistModal.querySelector('.hero-artist-img')\n  : null;\nconst modalTitle = artistModal\n  ? artistModal.querySelector('.modal-title')\n  : null; // Гэта h2, які будзе пад фота\n\nconst artistInfoList = artistModal\n  ? artistModal.querySelector('.artist-info-list')\n  : null;\nconst artistBioParagraph = artistModal\n  ? artistModal.querySelector('.artist-info-bio-text')\n  : null;\nconst genresList = artistModal\n  ? artistModal.querySelector('.genres-list')\n  : null;\nconst artistAlbumsListContainer = artistModal\n  ? artistModal.querySelector('.artist-albums-list')\n  : null;\n\n// ===============================================\n// 2. Пераменныя для кіравання пагінацыяй альбомаў у мадальным акне\n// ===============================================\nlet allAlbums = [];\nlet currentAlbumPage = 1;\nconst albumsPerPage = 8; // Па 8 альбомаў на старонку ў мадальным акне\n\n// ===============================================\n// 3. Функцыі апрацоўшчыкаў закрыцця мадальнага акна\n// ===============================================\nfunction closeArtistModal() {\n  if (artistModal) {\n    artistModal.classList.remove('open');\n  }\n  if (document.body) {\n    document.body.classList.remove('modal-open');\n  }\n  // Ачыстка кантэнту пры закрыцці, каб не было старых дадзеных\n  if (modalTitle) modalTitle.textContent = 'Назва выканаўцы';\n  if (heroArtistImg) {\n    heroArtistImg.src = '';\n    heroArtistImg.alt = '';\n  }\n  if (artistInfoList) artistInfoList.innerHTML = '';\n  if (artistBioParagraph) artistBioParagraph.innerHTML = '';\n  if (genresList) genresList.innerHTML = '';\n  if (artistAlbumsListContainer) artistAlbumsListContainer.innerHTML = '';\n\n  // Схаваць лоадер\n  if (modalLoader) modalLoader.style.display = 'none';\n\n  // Выдаліць кнопкі пагінацыі, калі яны былі створаны\n  const existingPaginationControls = artistModal.querySelector(\n    '.pagination-controls'\n  );\n  if (existingPaginationControls) {\n    existingPaginationControls.remove();\n  }\n}\n\nfunction outsideClickHandler(e) {\n  if (e.target === artistModal) {\n    closeArtistModal();\n  }\n}\n\nfunction escapeKeyHandler(e) {\n  if (e.key === 'Escape') {\n    closeArtistModal();\n  }\n}\n\n// ===============================================\n// 4. Функцыя для адлюстравання альбомаў (з пагінацыяй) у мадальным акне\n// ===============================================\nfunction renderAlbums(page) {\n  if (!artistAlbumsListContainer) return;\n\n  const startIndex = (page - 1) * albumsPerPage;\n  const endIndex = startIndex + albumsPerPage;\n  const albumsToDisplay = allAlbums.slice(startIndex, endIndex);\n\n  artistAlbumsListContainer.innerHTML = ''; // Ачыстка спісу альбомаў перад запаўненнем\n\n  if (albumsToDisplay.length === 0) {\n    artistAlbumsListContainer.innerHTML = `<li class=\"artist-albums-item\"><p>Інфармацыя пра альбомы адсутнічае.</p></li>`;\n    // Абавязкова выдаліць кнопкі пагінацыі, калі няма альбомаў\n    const existingPaginationControls = artistModal.querySelector(\n      '.pagination-controls'\n    );\n    if (existingPaginationControls) {\n      existingPaginationControls.remove();\n    }\n    return;\n  }\n\n  albumsToDisplay.forEach(album => {\n    let albumItemHtml = `<li class=\"artist-albums-item\">\n                                <h3>${album.strAlbum || 'Назва альбому'} (${\n      album.intYearReleased || 'Год'\n    })</h3>\n                                <ul class=\"album-track-list\">`;\n\n    // Загаловак табліцы трэкаў\n    albumItemHtml += `<li class=\"album-track-item track-header\">\n                                <ul class=\"track-info-list\">\n                                    <li class=\"track-info-item\">Трэк</li>\n                                    <li class=\"track-info-item\">Час</li>\n                                    <li class=\"track-info-item\">Спасылка</li>\n                                </ul>\n                            </li>`;\n\n    if (album.tracks && album.tracks.length > 0) {\n      album.tracks.forEach((track, index) => {\n        const rowClass = index % 2 === 0 ? 'even-row' : 'odd-row';\n        albumItemHtml += `<li class=\"album-track-item ${rowClass}\">\n                                        <ul class=\"track-info-list\">\n                                            <li class=\"track-info-item\">${\n                                              track.strTrack ||\n                                              'Назва кампазіцыі'\n                                            }</li>\n                                            <li class=\"track-info-item\">${\n                                              track.intDuration\n                                                ? formatDuration(\n                                                    track.intDuration\n                                                  )\n                                                : '-'\n                                            }</li>\n                                            <li class=\"track-info-item\">`;\n        // Праверка на карэктнасць URL для YouTube спасылак\n        if (\n          track.movie &&\n          typeof track.movie === 'string' && // Пераканайцеся, што гэта радок\n          track.movie !== 'null' && // Праверка на радок \"null\"\n          (track.movie.startsWith('http://') ||\n            track.movie.startsWith('https://'))\n        ) {\n          albumItemHtml += `<button class=\"yt-button\" data-url=\"${track.movie}\">YouTube</button>`;\n        } else {\n          albumItemHtml += `-`;\n        }\n        albumItemHtml += `</li>\n                                        </ul>\n                                    </li>`;\n      });\n    } else {\n      albumItemHtml += `<li class=\"album-track-item\"><p>Няма кампазіцый для гэтага альбому.</p></li>`;\n    }\n    albumItemHtml += `</ul></li>`;\n    artistAlbumsListContainer.insertAdjacentHTML('beforeend', albumItemHtml);\n  });\n\n  // ===============================================\n  // Стварэнне кнопак пагінацыі для альбомаў\n  // ===============================================\n  const totalPages = Math.ceil(allAlbums.length / albumsPerPage);\n\n  // Выдаляем існуючыя элементы пагінацыі, каб пазбегнуць дублявання\n  const existingPaginationControls = artistModal.querySelector(\n    '.pagination-controls'\n  );\n  if (existingPaginationControls) {\n    existingPaginationControls.remove();\n  }\n\n  if (totalPages > 1) {\n    const paginationControls = document.createElement('div');\n    paginationControls.className = 'pagination-controls';\n\n    const prevButton = document.createElement('button');\n    prevButton.textContent = 'Папярэдняя';\n    prevButton.disabled = page === 1;\n    prevButton.addEventListener('click', () => {\n      currentAlbumPage--;\n      renderAlbums(currentAlbumPage);\n    });\n\n    const nextButton = document.createElement('button');\n    nextButton.textContent = 'Наступная';\n    nextButton.disabled = page === totalPages;\n    nextButton.addEventListener('click', () => {\n      currentAlbumPage++;\n      renderAlbums(currentAlbumPage);\n    });\n\n    const pageInfo = document.createElement('span');\n    pageInfo.textContent = ` ${page} / ${totalPages} `;\n\n    paginationControls.appendChild(prevButton);\n    paginationControls.appendChild(pageInfo);\n    paginationControls.appendChild(nextButton);\n\n    const albumsBlock = artistModal.querySelector('.artist-albums-block');\n    if (albumsBlock) {\n      albumsBlock.appendChild(paginationControls);\n    } else {\n      artistModal.appendChild(paginationControls); // Запасны варыянт\n    }\n  }\n\n  // ===============================================\n  // Прывязваем падзеі да кнопак YouTube пасля абнаўлення DOM\n  // ===============================================\n  const ytButtons = artistModal.querySelectorAll('.yt-button');\n  ytButtons.forEach(btn => {\n    btn.addEventListener('click', function (e) {\n      const url = e.target.dataset.url;\n      if (url) {\n        window.open(url, '_blank');\n      }\n    });\n  });\n}\n\n// ===============================================\n// 5. Функцыя для фарматавання часу (мілісекунды ў хвіліны:секунды)\n// ===============================================\nfunction formatDuration(ms) {\n  // Упэўніваемся, што ms - лік, калі гэта радок, спрабуем пераўтварыць\n  const numMs = typeof ms === 'string' ? parseInt(ms, 10) : ms;\n\n  if (typeof numMs !== 'number' || isNaN(numMs) || numMs < 0) {\n    return 'N/A';\n  }\n  const totalSeconds = Math.floor(numMs / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n}\n\n// ===============================================\n// 6. Галоўная функцыя для адкрыцця мадальнага акна артыста (экспартуецца)\n// ===============================================\n// Цяпер функцыя openArtistModal прымае 'genres' як другі аргумент\nexport async function openArtistModal(artistId, artistGenres = []) {\n  // Праверка на існаванне асноўных DOM-элементаў модала\n  if (\n    !artistModal ||\n    !modalLoader ||\n    !modalTitle ||\n    !heroArtistImg ||\n    !artistInfoList ||\n    !artistBioParagraph ||\n    !genresList ||\n    !artistAlbumsListContainer\n  ) {\n    console.error(\n      'Адзін або некалькі элементаў мадальнага акна не знойдзены ў DOM. Праверце свае HTML ID і класы.'\n    );\n    return;\n  }\n\n  // Паказваем мадальнае акно і лоадер\n  document.body.classList.add('modal-open');\n  artistModal.classList.add('open');\n  modalLoader.style.display = 'block';\n\n  // Ачыстка старога кантэнту перад загрузкай новага\n  modalTitle.textContent = 'Загрузка...';\n  heroArtistImg.src = '';\n  heroArtistImg.alt = '';\n  artistInfoList.innerHTML = '';\n  artistBioParagraph.innerHTML = '';\n  genresList.innerHTML = '';\n  artistAlbumsListContainer.innerHTML = '';\n\n  // Скід пагінацыі альбомаў пры адкрыцці новага артыста\n  currentAlbumPage = 1;\n  allAlbums = [];\n\n  // Выдаляем кнопкі пагінацыі, калі яны засталіся ад папярэдняга адкрыцця\n  const existingPaginationControls = artistModal.querySelector(\n    '.pagination-controls'\n  );\n  if (existingPaginationControls) {\n    existingPaginationControls.remove();\n  }\n\n  try {\n    // Выклікаем функцыю з apiService для атрымання дэталяў артыста з трэкамі\n    const artistData = await fetchArtistDetailsWithTracks(artistId);\n\n    modalLoader.style.display = 'none'; // Хаваем лоадер пасля атрымання дадзеных\n\n    // Запаўняем асноўную інфармацыю пра артыста\n    modalTitle.textContent = artistData.strArtist || 'Невядомы выканаўца';\n    heroArtistImg.src =\n      artistData.strArtistThumb ||\n      'https://via.placeholder.com/250x250.png?text=No+Image'; // Заглушка\n    heroArtistImg.alt = artistData.strArtist || 'Фота выканаўцы';\n\n    // Інфармацыя пра артыста (годы, пол, удзельнікі, краіна)\n    artistInfoList.innerHTML = `\n                <li class=\"artist-info-item\">\n                    <h3>Гады актыўнасці</h3>\n                    <p class=\"artist-info\">${\n                      artistData.intFormedYear || 'інфармацыя адсутнічае'\n                    }</p>\n                </li>\n                <li class=\"artist-info-item\">\n                    <h3>Пол</h3>\n                    <p class=\"artist-info\">${\n                      artistData.strGender || 'інфармацыя адсутнічае'\n                    }</p>\n                </li>\n                <li class=\"artist-info-item\">\n                    <h3>Удзельнікі</h3>\n                    <p class=\"artist-info\">${\n                      artistData.intMembers || 'інфармацыя адсутнічае'\n                    }</p>\n                </li>\n                <li class=\"artist-info-item\">\n                    <h3>Краіна</h3>\n                    <p class=\"artist-info\">${\n                      artistData.strCountry || 'інфармацыя адсутнічае'\n                    }</p>\n                </li>\n            `;\n\n    // Біяграфія\n    artistBioParagraph.innerHTML =\n      artistData.strBiographyEN || 'Біяграфія адсутнічае.';\n\n    // Жанры (Цяпер выкарыстоўваем 'artistGenres' - перададзены з artists.js)\n    genresList.innerHTML = ''; // Ачыстка перад даданнем\n    if (\n      artistGenres &&\n      Array.isArray(artistGenres) &&\n      artistGenres.length > 0\n    ) {\n      artistGenres.forEach(genre => {\n        const li = document.createElement('li');\n        li.className = 'ganres-item'; // Клас для стылізацыі як кнопкі\n        li.textContent = genre;\n        genresList.appendChild(li);\n      });\n    } else {\n      const li = document.createElement('li');\n      li.className = 'ganres-item';\n      li.textContent = 'Жанры адсутнічаюць';\n      genresList.appendChild(li);\n    }\n\n    // ===============================================\n    // ЛОГІКА ДЛЯ АЛЬБОМАЎ З ПЕРАЎТВАРЭННЕМ ТРЭКАЎ\n    // ===============================================\n    if (artistData.tracksList && artistData.tracksList.length > 0) {\n      // Групоўка трэкаў па альбомах\n      const albumsMap = new Map();\n      artistData.tracksList.forEach(track => {\n        const albumName = track.strAlbum || 'Невядомы альбом';\n        const albumId = track.idAlbum || albumName;\n        if (!albumsMap.has(albumId)) {\n          albumsMap.set(albumId, {\n            strAlbum: albumName,\n            intYearReleased: track.intYearReleased || 'Невядома',\n            idAlbum: albumId,\n            tracks: [],\n          });\n        }\n        albumsMap.get(albumId).tracks.push(track);\n      });\n\n      // Пераўтвараем Map у масіў і сартуем па годзе выпуску (змяншальна)\n      allAlbums = Array.from(albumsMap.values()).sort((a, b) => {\n        const yearA = parseInt(a.intYearReleased) || 0;\n        const yearB = parseInt(b.intYearReleased) || 0;\n        return yearB - yearA;\n      });\n\n      renderAlbums(currentAlbumPage); // Адлюстроўваем першую старонку\n    } else {\n      artistAlbumsListContainer.innerHTML = `<li class=\"artist-albums-item\"><p>Інфармацыя пра альбомы і трэкі адсутнічае.</p></li>`;\n      // Калі няма альбомаў, выдаліць кнопкі пагінацыі, калі яны існавалі\n      const existingPaginationControls = artistModal.querySelector(\n        '.pagination-controls'\n      );\n      if (existingPaginationControls) {\n        existingPaginationControls.remove();\n      }\n    }\n  } catch (error) {\n    modalLoader.style.display = 'none'; // Хаваем лоадер нават пры памылцы\n    if (artistModal) {\n      modalTitle.textContent = 'Памылка загрузкі дадзеных!';\n      let errorMessage =\n        'На жаль, не ўдалося загрузіць дадзеныя пра выканаўцу. ';\n      if (error.response) {\n        errorMessage += `Статус: ${error.response.status}. `;\n        if (error.response.status === 404) {\n          errorMessage +=\n            'Рэсурс не знойдзены па паказаным URL. Магчыма, няверны ID або API-шлях. Паспрабуйце іншы ID ці праверце дакументацыю API.';\n        } else if (error.response.data && error.response.data.message) {\n          errorMessage += `Паведамленне: ${error.response.data.message}`;\n        }\n      } else if (error.request) {\n        errorMessage +=\n          'Не ўдалося атрымаць адказ ад сервера. Магчыма, праблема з сеткай.';\n      } else {\n        errorMessage += `Паведамленне: ${error.message}`;\n      }\n\n      if (artistInfoList)\n        artistInfoList.innerHTML = `<li class=\"artist-info-item\"><p class=\"error\">${errorMessage}</p></li>`;\n      if (artistBioParagraph) artistBioParagraph.innerHTML = '';\n      if (genresList) genresList.innerHTML = '';\n      if (artistAlbumsListContainer) artistAlbumsListContainer.innerHTML = '';\n    }\n    console.error('Памылка атрымання дадзеных:', error);\n  }\n}\n\n// ===============================================\n// 7. Ініцыялізацыя апрацоўшчыкаў падзей для закрыцця мадальнага акна\n// ===============================================\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (closeModalButton) {\n    closeModalButton.addEventListener('click', closeArtistModal);\n  }\n  if (artistModal) {\n    artistModal.addEventListener('click', outsideClickHandler);\n  }\n  document.addEventListener('keydown', escapeKeyHandler);\n});\n","// js/artists.js\nimport { fetchArtists } from './apiService.js'; // Імпартуем функцыю для загрузкі артыстаў\nimport { openArtistModal } from './modal-artists.js'; // Імпартуем функцыю для адкрыцця мадальнага акна\n\n// ===============================================\n// 1. Кэшаванне DOM-элементаў\n// ===============================================\nconst artistsContainer = document.getElementById('artists-cards-container'); // Бацькоўскі канэйнер для спісу артыстаў\nconst loadMoreBtn = document.querySelector('.load-more-btn'); // Кнопка \"Load More\"\n\n// Пераменная для захавання спасылкі на створаны UL-элемент спісу артыстаў\nlet artistsListElement = null;\n\n// ===============================================\n// 2. Пераменныя для кіравання пагінацыяй\n// ===============================================\nlet currentPage = 1; // Бягучая старонка, пачынаем з першай\nconst artistsPerPage = 8; // Колькасць артыстаў, якія загружаюцца за адзін раз\n\n// ===============================================\n// 3. Функцыя для генерацыі HTML-разметкі адной карткі артыста\n// ===============================================\n/**\n * Генеруе HTML-разметку для адной карткі артыста.\n * @param {Object} artist - Аб'ект артыста з дадзенымі.\n * @returns {string} - HTML-радок для карткі артыста.\n */\nfunction createArtistCardMarkup(artist) {\n  // Генеруем разметку для жанраў як асобных элементаў спісу\n  const genresMarkup = Array.isArray(artist.genres)\n    ? artist.genres\n        .map(genre => `<li class=\"artist-genre-item\">${genre}</li>`) // Кожны жанр - асобны li\n        .join('')\n    : '<li class=\"artist-genre-item\">Невядома</li>'; // Калі жанраў няма\n\n  // Абрэзка біяграфіі да першых двух сказаў\n  const biographyPreview = artist.strBiographyEN\n    ? artist.strBiographyEN.split('. ').slice(0, 2).join('. ') + '.' // Дадаем кропку ў канцы\n    : 'Кароткі апісанне адсутнічае.'; // Запасны тэкст\n\n  return `\n    <li class=\"artist-item\" data-artist-id=\"${artist._id}\">\n      <img src=\"${\n        artist.strArtistThumb ||\n        'https://via.placeholder.com/200x200?text=No+Image'\n      }\"\n           alt=\"${artist.strArtist || 'Фота выканаўцы'}\"\n           class=\"artist-img\">\n      <ul class=\"artist-genres-list\">\n        ${genresMarkup}\n      </ul>\n      <h3 class=\"artist-name\">${artist.strArtist || 'Невядомы выканаўца'}</h3>\n      <p class=\"artist-description\">${biographyPreview}</p>\n      <button type=\"button\" class=\"learn-more-btn button\">Детальніше</button>\n    </li>\n  `;\n}\n\n// ===============================================\n// 4. Функцыя для адлюстравання спісу артыстаў на старонцы\n// ===============================================\n/**\n * Адлюстроўвае масіў артыстаў у спісе, дадаючы іх у DOM.\n * @param {Array} artists - Масіў аб'ектаў артыстаў.\n * @param {boolean} clearPrevious - Калі true, ачышчае спіс перад даданнем новых артыстаў.\n */\nfunction renderArtists(artists, clearPrevious = false) {\n  if (!artistsContainer) {\n    console.error('Элемент #artists-cards-container не знойдзены ў DOM.');\n    return;\n  }\n\n  // Ствараем UL-элемент, калі яго яшчэ няма\n  if (!artistsListElement) {\n    artistsListElement = document.createElement('ul');\n    artistsListElement.classList.add('artists-list'); // Дадаем клас 'artists-list'\n    artistsContainer.appendChild(artistsListElement);\n  }\n\n  if (clearPrevious) {\n    artistsListElement.innerHTML = ''; // Ачышчаем спіс, калі гэта першая загрузка або новы пошук\n  }\n\n  // Генеруем HTML для ўсіх артыстаў і ўстаўляем у DOM\n  const markup = artists.map(createArtistCardMarkup).join('');\n  artistsListElement.insertAdjacentHTML('beforeend', markup);\n\n  // ===============================================\n  // 5. Прывязваем апрацоўшчыкі падзей для кнопак \"Детальніше\"\n  // ===============================================\n  // Важна: шукаем кнопкі толькі ўнутры artistsListElement, каб апрацоўваць толькі новыя элементы\n  artistsListElement.querySelectorAll('.learn-more-btn').forEach(button => {\n    button.addEventListener('click', event => {\n      const artistItem = event.target.closest('.artist-item');\n      if (artistItem) {\n        const artistId = artistItem.dataset.artistId; // Атрымліваем ID артыста з data-атрыбута\n\n        // Знайсці аб'ект артыста з арыгінальнага спісу, каб атрымаць жанры\n        const fullArtistData = artists.find(a => a._id === artistId);\n        const artistGenres = fullArtistData ? fullArtistData.genres : []; // Атрымліваем жанры\n\n        if (artistId) {\n          // Выклікаем функцыю openArtistModal з modal-artists.js, перадаючы жанры\n          openArtistModal(artistId, artistGenres); // <--- ВАЖНАЯ ЗМЕНА ТУТ\n        } else {\n          console.warn('Кнопка \"Детальніше\" не мае data-artist-id.');\n        }\n      }\n    });\n  });\n}\n\n// ===============================================\n// 6. Функцыя для загрузкі артыстаў з API\n// ===============================================\n/**\n * Загружае артыстаў з API з улікам бягучай старонкі і адлюстроўвае іх.\n * Кіруе станам кнопкі \"Load More\".\n * @param {boolean} newSearch - Калі true, скідае нумар старонкі на 1 і ачышчае спіс.\n */\nasync function loadArtists(newSearch = false) {\n  if (newSearch) {\n    currentPage = 1; // Скідаем старонку, калі гэта новы пошук або першая загрузка\n    // Калі гэта новая загрузка, і элемент спісу ўжо існуе, ачысцім яго перад пачаткам\n    if (artistsListElement) {\n      artistsListElement.innerHTML = '';\n    }\n  }\n\n  try {\n    // Выклікаем функцыю fetchArtists з apiService.js\n    const data = await fetchArtists(artistsPerPage, currentPage);\n    const artists = data.artists || [];\n    const totalArtists = data.totalArtists || 0;\n\n    renderArtists(artists, newSearch); // Адлюстроўваем артыстаў\n\n    // ===============================================\n    // 7. Логіка для паказу/хавання кнопкі \"Load More\"\n    // ===============================================\n    if (loadMoreBtn) {\n      // Праверка на існаванне кнопкі\n      if (currentPage * artistsPerPage >= totalArtists) {\n        loadMoreBtn.classList.add('is-hidden'); // Хаваем, калі ўсе артысты загружаны\n      } else {\n        loadMoreBtn.classList.remove('is-hidden'); // Паказваем, калі ёсць яшчэ артысты\n      }\n    }\n  } catch (error) {\n    console.error('Памылка пры загрузцы артыстаў:', error);\n    // Можна дадаць візуальнае паведамленне карыстальніку пра памылку\n    if (loadMoreBtn) {\n      loadMoreBtn.classList.add('is-hidden'); // Хаваем кнопку пры памылцы загрузкі\n    }\n    // Калі спіс пусты, пакажам паведамленне\n    if (artistsListElement && artistsListElement.innerHTML === '') {\n      artistsListElement.innerHTML = `<li class=\"artist-item\"><p>Не ўдалося загрузіць выканаўцаў. Паспрабуйце пазней.</p></li>`;\n    }\n  }\n}\n\n// ===============================================\n// 8. Прывязваем апрацоўшчык падзей да кнопкі \"Load More\"\n// ===============================================\nif (loadMoreBtn) {\n  loadMoreBtn.addEventListener('click', () => {\n    currentPage += 1; // Павялічваем нумар старонкі\n    loadArtists(false); // Загружаем наступную порцыю без ачысткі папярэдніх\n  });\n}\n\n// ===============================================\n// 9. Запускаем загрузку артыстаў пры загрузцы DOM\n// ===============================================\ndocument.addEventListener('DOMContentLoaded', () => {\n  loadArtists(true); // Першая загрузка: ачышчаем спіс і паказваем першых 8 артыстаў\n});\n","// src/js/feedback.js\n\nimport Swiper from 'swiper/bundle';\nimport { fetchFeedbacks } from './apiService';\n\nconst swiperWrapper = document.querySelector('.swiper-wrapper');\n\nasync function initializeFeedbackSection() {\n  try {\n    const feedbacksData = await fetchFeedbacks(10, 1);\n    const feedbackList = feedbacksData.data;\n\n    if (!feedbackList || feedbackList.length === 0) {\n      console.log('No feedback data received.');\n      return;\n    }\n\n    feedbackList.forEach(({ rating, descr, name }) => {\n      const slide = createFeedbackSlide({ rating, text: descr, user: name });\n      swiperWrapper.appendChild(slide);\n    });\n\n    initSwiper();\n  } catch (error) {\n    console.error('Error initializing feedback section:', error);\n  }\n}\n\nfunction createFeedbackSlide({ rating, text, user }) {\n  const slide = document.createElement('div');\n  slide.classList.add('swiper-slide');\n\n  const roundedRating = Math.round(rating);\n  slide.innerHTML = `\n    <div class=\"feedback-card\">\n      <div class=\"feedback-stars\">${renderStars(roundedRating)}</div>\n      <p class=\"feedback-text\">\"${text}\"</p>\n      <p class=\"feedback-user\">${user}</p>\n    </div>\n  `;\n  return slide;\n}\n\nfunction renderStars(count) {\n  const max = 5;\n  return '★'.repeat(count) + '☆'.repeat(max - count);\n}\n\nfunction initSwiper() {\n  new Swiper('.feedback-swiper', {\n    loop: false,\n    grabCursor: true,\n\n    // Swiper Pagination (dots)\n    pagination: {\n      el: '.feedback-pagination',\n      clickable: true,\n    },\n\n    // Swiper Navigation (arrows)\n    navigation: {\n      nextEl: '.feedback-button-next',\n      prevEl: '.feedback-button-prev',\n    },\n\n    // Breakpoints for slidesPerView and spaceBetween\n    breakpoints: {\n      320: {\n        slidesPerView: 1,\n        spaceBetween: 10,\n        // На мабільных выкарыстоўваем пагінацыю (кропкі), а не навігацыйныя стрэлкі\n        // navigation: { enabled: false }, // Адключаем навігацыю на мабільных\n        // Але лепш проста хаваць/паказваць іх праз CSS\n      },\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 20,\n        // navigation: { enabled: true }, // Уключаем навігацыю на планшэтах\n      },\n      1440: {\n        slidesPerView: 3,\n        spaceBetween: 30,\n      },\n    },\n  });\n}\n\ninitializeFeedbackSection();\n"],"names":["API_BASE_URL","fetchArtists","limit","page","axios","error","fetchArtistDetailsWithTracks","artistId","fetchFeedbacks","heroColumnOne","heroColumnTwo","displayHeroArtists","artists","columnOneArtists","columnTwoArtists","populateColumn","columnElement","artistData","imgElements","artist","index","exploreBtn","artistsSection","event","artistModal","closeModalButton","modalLoader","heroArtistImg","modalTitle","artistInfoList","artistBioParagraph","genresList","artistAlbumsListContainer","allAlbums","currentAlbumPage","albumsPerPage","closeArtistModal","existingPaginationControls","outsideClickHandler","escapeKeyHandler","renderAlbums","startIndex","endIndex","albumsToDisplay","album","albumItemHtml","track","rowClass","formatDuration","totalPages","paginationControls","prevButton","nextButton","pageInfo","albumsBlock","btn","e","url","ms","numMs","totalSeconds","minutes","seconds","openArtistModal","artistGenres","genre","li","albumsMap","albumName","albumId","a","b","yearA","errorMessage","artistsContainer","loadMoreBtn","artistsListElement","currentPage","artistsPerPage","createArtistCardMarkup","genresMarkup","biographyPreview","renderArtists","clearPrevious","markup","button","artistItem","fullArtistData","loadArtists","newSearch","data","totalArtists","swiperWrapper","initializeFeedbackSection","feedbackList","rating","descr","name","slide","createFeedbackSlide","initSwiper","text","user","roundedRating","renderStars","count","Swiper"],"mappings":"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"}