import{a as S}from"./assets/vendor-4Zu4Mdgf.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const q="https://sound-wave.b.goit.study/api";async function B(e=10,r=1){try{return(await S.get(`${q}/artists`,{params:{limit:e,page:r}})).data}catch(t){throw console.error("Памылка пры загрузцы спісу артыстаў:",t),t}}async function N(e){try{return(await S.get(`${q}/artists/${e}`)).data}catch(r){throw console.error(`Памылка пры загрузцы дэталяў артыста з трэкамі (ID: ${e}):`,r),r}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".hero-column-one"),r=document.querySelector(".hero-column-two");async function t(){let i=[];try{i=(await B(6,1)).artists||[]}catch(a){console.error("Памылка пры загрузцы артыстаў для Hero-секцыі:",a)}if(i.length===0){console.warn("Няма дадзеных пра артыстаў для адлюстравання ў Hero-секцыі. Праверце API ці даступнасць дадзеных.");return}const d=i.slice(0,3),c=i.slice(3,6);function l(a,L){const E=a.querySelectorAll(".hero-artist-img");L.forEach((k,C)=>{E[C]&&(E[C].src=k.strArtistThumb||"https://via.placeholder.com/150x150?text=No+Image",E[C].alt=k.strArtist||"Artist photo")})}e&&l(e,d),r&&l(r,c)}t();const n=document.querySelector(".explore-btn"),s=document.getElementById("artists-section");n&&s?n.addEventListener("click",i=>{s.scrollIntoView({behavior:"smooth"})}):s||console.warn('Секцыя з ID "artists-section" не знойдзена для кнопкі Explore.')});const o=document.getElementById("artistModal"),x=o?o.querySelector(".close-modal"):null,b=document.getElementById("modalLoader"),A=o?o.querySelector(".modal-title"):null,p=o?o.querySelector(".hero-artist-img"):null,h=o?o.querySelector(".artist-info-list"):null,y=o?o.querySelector(".artist-info-bio-text"):null,f=o?o.querySelector(".genres-list"):null,u=o?o.querySelector(".artist-albums-list"):null;let T=[],M=1;const H=8;function I(){o&&o.classList.remove("open"),document.body&&document.body.classList.remove("modal-open"),A&&(A.textContent="Назва выканаўцы"),p&&(p.src="",p.alt=""),h&&(h.innerHTML=""),y&&(y.innerHTML=""),f&&(f.innerHTML=""),u&&(u.innerHTML=""),b&&(b.style.display="none");const e=o.querySelector(".pagination-controls");e&&e.remove()}function O(e){e.target===o&&I()}function R(e){e.key==="Escape"&&I()}function $(e){if(!u)return;const r=(e-1)*H,t=r+H,n=T.slice(r,t);if(u.innerHTML="",n.length===0){u.innerHTML='<li class="artist-albums-item"><p>Інфармацыя пра альбомы адсутнічае.</p></li>';return}n.forEach(c=>{let l=`<li class="artist-albums-item">
                                <h3>${c.strAlbum||"Назва альбому"} (${c.intYearReleased||"Год"})</h3>
                                <ul class="album-track-list">`;l+=`<li class="album-track-item track-header">
                                <ul class="track-info-list">
                                    <li class="track-info-item">Трэк</li>
                                    <li class="track-info-item">Час</li>
                                    <li class="track-info-item">Спасылка</li>
                                </ul>
                            </li>`,c.tracks&&c.tracks.length>0?c.tracks.forEach((a,L)=>{const E=L%2===0?"even-row":"odd-row";l+=`<li class="album-track-item ${E}">
                                        <ul class="track-info-list">
                                            <li class="track-info-item">${a.strTrack||"Назва кампазіцыі"}</li>
                                            <li class="track-info-item">${a.intDuration?Y(a.intDuration):"-"}</li>
                                            <li class="track-info-item">`,a.movie&&a.movie!=="null"&&(a.movie.startsWith("http://")||a.movie.startsWith("https://"))?l+=`<button class="yt-button" data-url="${a.movie}">YouTube</button>`:l+="-",l+=`</li>
                                        </ul>
                                    </li>`}):l+='<li class="album-track-item"><p>Няма кампазіцый для гэтага альбому.</p></li>',l+="</ul></li>",u.insertAdjacentHTML("beforeend",l)});const s=Math.ceil(T.length/H),i=o.querySelector(".pagination-controls");if(i&&i.remove(),s>1){const c=document.createElement("div");c.className="pagination-controls";const l=document.createElement("button");l.textContent="Папярэдняя",l.disabled=e===1,l.addEventListener("click",()=>{M--,$(M)});const a=document.createElement("button");a.textContent="Наступная",a.disabled=e===s,a.addEventListener("click",()=>{M++,$(M)});const L=document.createElement("span");L.textContent=` ${e} / ${s} `,c.appendChild(l),c.appendChild(L),c.appendChild(a),u.parentElement?u.parentElement.appendChild(c):o.appendChild(c)}o.querySelectorAll(".yt-button").forEach(c=>{c.addEventListener("click",function(l){const a=l.target.dataset.url;a&&window.open(a,"_blank")})})}function Y(e){if(typeof e!="number"||isNaN(e))return"N/A";const r=Math.floor(e/1e3),t=Math.floor(r/60),n=r%60;return`${t}:${n<10?"0":""}${n}`}async function j(e){if(!o||!b||!A||!p||!h||!y||!f||!u){console.error("Адзін або некалькі элементаў мадальнага акна не знойдзены ў DOM. Праверце свае HTML ID і класы.");return}document.body.classList.add("modal-open"),o.classList.add("open"),b.style.display="block",A.textContent="Загрузка...",p.src="",p.alt="",h.innerHTML="",y.innerHTML="",f.innerHTML="",u.innerHTML="",M=1,T=[];const r=o.querySelector(".pagination-controls");r&&r.remove();try{const t=await N(e);if(b.style.display="none",A.textContent=t.strArtist||"Невядомы выканаўца",p.src=t.strArtistThumb||"https://via.placeholder.com/250x250.png?text=No+Image",p.alt=t.strArtist||"Фота выканаўцы",h.innerHTML=`
                <li class="artist-info-item">
                    <h3>Гады актыўнасці</h3>
                    <p class="artist-info">${t.intFormedYear||"інфармацыя адсутнічае"}</p>
                </li>
                <li class="artist-info-item">
                    <h3>Пол</h3>
                    <p class="artist-info">${t.strGender||"інфармацыя адсутнічае"}</p>
                </li>
                <li class="artist-info-item">
                    <h3>Удзельнікі</h3>
                    <p class="artist-info">${t.intMembers||"інфармацыя адсутнічае"}</p>
                </li>
                <li class="artist-info-item">
                    <h3>Краіна</h3>
                    <p class="artist-info">${t.strCountry||"інфармацыя адсутнічае"}</p>
                </li>
            `,y.innerHTML=t.strBiographyEN||"Біяграфія адсутнічае.",f.innerHTML="",t.genres&&t.genres.length>0)t.genres.forEach(n=>{const s=document.createElement("li");s.className="ganres-item",s.textContent=n,f.appendChild(s)});else{const n=document.createElement("li");n.className="ganres-item",n.textContent="Жанры адсутнічаюць",f.appendChild(n)}if(t.tracksList&&t.tracksList.length>0){const n=new Map;t.tracksList.forEach(s=>{const i=s.strAlbum||"Невядомы альбом",d=s.idAlbum||i;n.has(d)||n.set(d,{strAlbum:i,intYearReleased:s.intYearReleased||"Невядома",idAlbum:d,tracks:[]}),n.get(d).tracks.push(s)}),T=Array.from(n.values()).sort((s,i)=>{const d=parseInt(s.intYearReleased)||0;return(parseInt(i.intYearReleased)||0)-d}),$(M)}else u.innerHTML='<li class="artist-albums-item"><p>Інфармацыя пра альбомы і трэкі адсутнічае.</p></li>'}catch(t){if(b.style.display="none",o){A.textContent="Памылка загрузкі дадзеных!";let n="На жаль, не ўдалося загрузіць дадзеныя пра выканаўцу. ";t.response?(n+=`Статус: ${t.response.status}. `,t.response.status===404?n+="Рэсурс не знойдзены па паказаным URL. Магчыма, няверны ID або API-шлях. Паспрабуйце іншы ID ці праверце дакументацыю API.":t.response.data&&t.response.data.message&&(n+=`Паведамленне: ${t.response.data.message}`)):t.request?n+="Не ўдалося атрымаць адказ ад сервера. Магчыма, праблема з сеткай.":n+=`Паведамленне: ${t.message}`,h&&(h.innerHTML=`<li class="artist-info-item"><p class="error">${n}</p></li>`),y&&(y.innerHTML=""),f&&(f.innerHTML=""),u&&(u.innerHTML="")}console.error("Памылка атрымання дадзеных:",t)}}document.addEventListener("DOMContentLoaded",()=>{x&&x.addEventListener("click",I),o&&o.addEventListener("click",O),document.addEventListener("keydown",R)});const w=document.getElementById("artists-cards-container"),g=document.querySelector(".load-more-btn");let m=null,v=1;const P=8;function _(e){const r=Array.isArray(e.genres)?e.genres.map(n=>`<li class="artist-genre-item">${n}</li>`).join(""):'<li class="artist-genre-item">Невядома</li>',t=e.strBiographyEN?e.strBiographyEN.split(". ").slice(0,2).join(". ")+".":"Кароткі апісанне адсутнічае.";return`
    <li class="artist-item" data-artist-id="${e._id}">
      <img src="${e.strArtistThumb||"https://via.placeholder.com/200x200?text=No+Image"}"
           alt="${e.strArtist||"Фота выканаўцы"}"
           class="artist-img">
      <ul class="artist-genres-list">
        ${r}
      </ul>
      <h3 class="artist-name">${e.strArtist||"Невядомы выканаўца"}</h3>
      <p class="artist-description">${t}</p>
      <button type="button" class="learn-more-btn button">Детальніше</button>
    </li>
  `}function W(e,r=!1){if(!w){console.error("Элемент #artists-cards-container не знойдзены ў DOM.");return}m||(m=document.createElement("ul"),m.classList.add("artists-list"),w.appendChild(m)),r&&(m.innerHTML="");const t=e.map(_).join("");m.insertAdjacentHTML("beforeend",t),m.querySelectorAll(".learn-more-btn").forEach(n=>{n.addEventListener("click",s=>{const i=s.target.closest(".artist-item");if(i){const d=i.dataset.artistId;d?j(d):console.warn('Кнопка "Детальніше" не мае data-artist-id.')}})})}async function D(e=!1){e&&(v=1,m&&(m.innerHTML=""));try{const r=await B(P,v),t=r.artists||[],n=r.totalArtists||0;W(t,e),g&&(v*P>=n?g.classList.add("is-hidden"):g.classList.remove("is-hidden"))}catch(r){console.error("Памылка пры загрузцы артыстаў:",r),g&&g.classList.add("is-hidden"),m&&m.innerHTML===""&&(m.innerHTML='<li class="artist-item"><p>Не ўдалося загрузіць выканаўцаў. Паспрабуйце пазней.</p></li>')}}g&&g.addEventListener("click",()=>{v+=1,D(!1)});document.addEventListener("DOMContentLoaded",()=>{D(!0)});
//# sourceMappingURL=index.js.map
